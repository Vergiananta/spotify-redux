{"ast":null,"code":"var _jsxFileName = \"/home/vergi/Documents/materi pascal/Week_11/Latihan fetching/empty_project2/src/component/genres/component/ListGenre.js\";\nimport React, { Component } from \"react\";\nimport { Table, Card, CardHeader, Spinner, Button } from \"reactstrap\";\nimport { FETCH_COMPLETE, DELETE_GENRE, SET_LOADING, EDIT_BUTTON } from \"../reducers/Actions\";\nimport * as Service from \"../services/GenreService\";\nimport { connect } from \"react-redux\";\nimport { Link, withRouter } from \"react-router-dom\";\n\nclass ListGenre extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleEdit = genreId => {\n      const {\n        handleEditButton,\n        history\n      } = this.props;\n      handleEditButton(genreId);\n      history.replace(\"/genres/form\");\n    };\n\n    this.handleDelete = genreId => {\n      const {\n        handleDeleteButton\n      } = this.props;\n      handleDeleteButton(genreId);\n    };\n  }\n\n  componentDidMount() {\n    const {\n      fetchData,\n      fetchComplete\n    } = this.props;\n    fetchData();\n    Service.getGenres().then(genres => {\n      fetchComplete(genres);\n    });\n  }\n\n  generateTableRows() {\n    const {\n      genres\n    } = this.props;\n    let rows = /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"2\",\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 24\n      }\n    }, \" \", /*#__PURE__*/React.createElement(Spinner, {\n      type: \"grow\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 65\n      }\n    })));\n\n    if (!this.props.isLoading) {\n      rows = genres.map((genre, index) => {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }\n        }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }\n        }, genre.name), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          type: \"button\",\n          color: \"warning\",\n          size: \"sm\",\n          className: \"shadow\",\n          onClick: () => this.handleEdit(genre.id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 29\n          }\n        }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n          type: \"button\",\n          color: \"danger\",\n          size: \"sm\",\n          className: \"shadow\",\n          onClick: () => this.handleDelete(genre.id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 29\n          }\n        }, \"Delete\")));\n      });\n    }\n\n    return rows;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Card, {\n      className: \"shadow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      tag: \"strong\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"Genres\", /*#__PURE__*/React.createElement(Link, {\n      to: \"/genres/form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"float-right\",\n      size: \"sm\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 41\n      }\n    }, \" New Genre\")), \">\"), /*#__PURE__*/React.createElement(Table, {\n      responsive: true,\n      striped: true,\n      hover: true,\n      className: \"m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 29\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }\n    }, \"Name\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, this.generateTableRows())));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return { ...state\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    fetchData: () => dispatch({\n      type: SET_LOADING\n    }),\n    fetchComplete: payload => dispatch({\n      type: FETCH_COMPLETE,\n      payload\n    }),\n    handleDeleteButton: payload => dispatch({\n      type: DELETE_GENRE,\n      payload\n    }),\n    handleEditButton: payload => dispatch({\n      type: EDIT_BUTTON,\n      payload\n    })\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ListGenre));","map":{"version":3,"sources":["/home/vergi/Documents/materi pascal/Week_11/Latihan fetching/empty_project2/src/component/genres/component/ListGenre.js"],"names":["React","Component","Table","Card","CardHeader","Spinner","Button","FETCH_COMPLETE","DELETE_GENRE","SET_LOADING","EDIT_BUTTON","Service","connect","Link","withRouter","ListGenre","handleEdit","genreId","handleEditButton","history","props","replace","handleDelete","handleDeleteButton","componentDidMount","fetchData","fetchComplete","getGenres","then","genres","generateTableRows","rows","isLoading","map","genre","index","name","id","render","mapStateToProps","state","mapDispatchToProps","dispatch","type","payload"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Table, Card, CardHeader, Spinner, Button } from \"reactstrap\";\nimport { FETCH_COMPLETE, DELETE_GENRE, SET_LOADING, EDIT_BUTTON } from \"../reducers/Actions\";\nimport * as Service from \"../services/GenreService\";\nimport { connect } from \"react-redux\";\nimport { Link, withRouter } from \"react-router-dom\";\n\n\nclass ListGenre extends Component {\n\n    handleEdit = (genreId) => {\n        const { handleEditButton, history } = this.props;\n        handleEditButton(genreId);\n        history.replace(\"/genres/form\")\n    }\n\n    handleDelete = (genreId) => {\n        const { handleDeleteButton } = this.props;\n        handleDeleteButton(genreId);\n\n    }\n\n    componentDidMount() {\n        const { fetchData, fetchComplete } = this.props;\n\n        fetchData();\n\n        Service.getGenres().then((genres) => {\n            fetchComplete(genres);\n        });\n\n    }\n\n    generateTableRows() {\n        const { genres } = this.props;\n        let rows = <tr><td colSpan=\"2\" className=\"text-center\"> <Spinner type=\"grow\" color=\"primary\" /></td></tr>\n\n        if (!this.props.isLoading) {\n            rows = genres.map((genre, index) => {\n                return (\n                    <tr key={index}>\n                        <td>{index + 1}</td>\n                        <td>{genre.name}</td>\n                        <td>\n                            <Button type=\"button\"\n                                color=\"warning\" size=\"sm\"\n                                className=\"shadow\"\n                                onClick={() => this.handleEdit(genre.id)}>\n                                Edit\n                            </Button>\n                            <Button type=\"button\"\n                                color=\"danger\" size=\"sm\"\n                                className=\"shadow\" onClick={() => this.handleDelete(genre.id)}>\n                                Delete\n                                </Button>\n                        </td>\n\n                    </tr>\n                )\n            });\n        }\n\n        return rows;\n    }\n\n    render() {\n        return (\n            <Card className=\"shadow\">\n                <CardHeader tag=\"strong\">Genres\n                <Link to=\"/genres/form\"><Button className=\"float-right\" size=\"sm\" color=\"primary\"> New Genre</Button></Link>>\n                </CardHeader>\n\n                <Table responsive striped hover className=\"m-0\">\n                    <thead>\n                        <tr>\n                            <th>#</th>\n                            <th>\n                                Name\n            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.generateTableRows()}\n                    </tbody>\n                </Table>\n            </Card>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    return { ...state };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        fetchData: () => dispatch({ type: SET_LOADING }),\n        fetchComplete: (payload) => dispatch({ type: FETCH_COMPLETE, payload }),\n        handleDeleteButton: (payload) => dispatch({ type: DELETE_GENRE, payload }),\n        handleEditButton: (payload) => dispatch({ type: EDIT_BUTTON, payload }),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ListGenre));"]},"metadata":{},"sourceType":"module"}