{"ast":null,"code":"import { INPUT_GENRE, SEARCH_GENRE, SUBMIT_COMPLETE, UPDATE_GENRE, RESET_FORM, EDIT_BUTTON, DELETE_GENRE, FETCH_COMPLETE, SET_LOADING } from \"./Actions\";\nconst defaultFormValues = {\n  id: '',\n  name: ''\n};\nconst initialState = {\n  isLoading: true,\n  genres: [],\n  form: { ...defaultFormValues\n  }\n};\n\nfunction genreReducer(state = initialState, action) {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case DELETE_GENRE:\n      return { ...state,\n        genres: state.genres.filter(genre => genre.id !== payload)\n      };\n\n    case UPDATE_GENRE:\n      return { ...state,\n        genres: state.genres.map(genre => genre.id === payload.id ? payload : genre)\n      };\n\n    case EDIT_BUTTON:\n      const genre = state.genres.find(genre => genre.id === payload);\n      return { ...state,\n        form: { ...genre\n        }\n      };\n\n    case RESET_FORM:\n      return { ...state,\n        form: { ...defaultFormValues\n        }\n      };\n\n    case SET_LOADING:\n      return { ...state,\n        isLoading: true\n      };\n\n    case FETCH_COMPLETE:\n      return { ...state,\n        isLoading: false,\n        genres: [...payload]\n      };\n\n    case SEARCH_GENRE:\n      return { ...state,\n        keyword: payload\n      };\n\n    case INPUT_GENRE:\n      const {\n        inputName,\n        inputValue\n      } = payload;\n      const form = { ...state.form\n      };\n      form[inputName] = inputValue;\n      return { ...state,\n        form: { ...form\n        }\n      };\n\n    case SUBMIT_COMPLETE:\n      return { ...state,\n        isLoading: false,\n        form: { ...defaultFormValues\n        }\n      };\n\n    default:\n      return { ...state\n      };\n  }\n}\n\nexport default genreReducer;","map":{"version":3,"sources":["/home/vergi/Documents/materi pascal/Week_11/Latihan fetching/empty_project2/src/component/genres/reducers/GenreReducer.js"],"names":["INPUT_GENRE","SEARCH_GENRE","SUBMIT_COMPLETE","UPDATE_GENRE","RESET_FORM","EDIT_BUTTON","DELETE_GENRE","FETCH_COMPLETE","SET_LOADING","defaultFormValues","id","name","initialState","isLoading","genres","form","genreReducer","state","action","type","payload","filter","genre","map","find","keyword","inputName","inputValue"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,YAAtB,EAAoCC,eAApC,EAAqDC,YAArD,EAAmEC,UAAnE,EAA+EC,WAA/E,EAA4FC,YAA5F,EAA0GC,cAA1G,EAA0HC,WAA1H,QAA6I,WAA7I;AAEA,MAAMC,iBAAiB,GAAG;AACtBC,EAAAA,EAAE,EAAE,EADkB;AAEtBC,EAAAA,IAAI,EAAE;AAFgB,CAA1B;AAKA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,SAAS,EAAE,IADM;AAEjBC,EAAAA,MAAM,EAAE,EAFS;AAGjBC,EAAAA,IAAI,EAAE,EAAE,GAAGN;AAAL;AAHW,CAArB;;AAKA,SAASO,YAAT,CAAsBC,KAAK,GAAGL,YAA9B,EAA4CM,MAA5C,EAAoD;AAChD,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBF,MAA1B;;AAEA,UAAQC,IAAR;AAEI,SAAKb,YAAL;AACI,aAAO,EAAE,GAAGW,KAAL;AAAYH,QAAAA,MAAM,EAAEG,KAAK,CAACH,MAAN,CAAaO,MAAb,CAAqBC,KAAD,IAAYA,KAAK,CAACZ,EAAN,KAAaU,OAA7C;AAApB,OAAP;;AAEJ,SAAKjB,YAAL;AACI,aAAO,EAAE,GAAGc,KAAL;AAAYH,QAAAA,MAAM,EAAEG,KAAK,CAACH,MAAN,CAAaS,GAAb,CAAkBD,KAAD,IAAWA,KAAK,CAACZ,EAAN,KAAaU,OAAO,CAACV,EAArB,GAA0BU,OAA1B,GAAoCE,KAAhE;AAApB,OAAP;;AAEJ,SAAKjB,WAAL;AACI,YAAMiB,KAAK,GAAGL,KAAK,CAACH,MAAN,CAAaU,IAAb,CAAmBF,KAAD,IAAWA,KAAK,CAACZ,EAAN,KAAaU,OAA1C,CAAd;AACA,aAAO,EAAE,GAAGH,KAAL;AAAYF,QAAAA,IAAI,EAAE,EAAE,GAAGO;AAAL;AAAlB,OAAP;;AAGJ,SAAKlB,UAAL;AACI,aAAO,EAAE,GAAGa,KAAL;AAAYF,QAAAA,IAAI,EAAE,EAAE,GAAGN;AAAL;AAAlB,OAAP;;AAEJ,SAAKD,WAAL;AACI,aAAO,EAAE,GAAGS,KAAL;AAAYJ,QAAAA,SAAS,EAAE;AAAvB,OAAP;;AAEJ,SAAKN,cAAL;AACI,aAAO,EAAE,GAAGU,KAAL;AAAYJ,QAAAA,SAAS,EAAE,KAAvB;AAA8BC,QAAAA,MAAM,EAAE,CAAC,GAAGM,OAAJ;AAAtC,OAAP;;AAEJ,SAAKnB,YAAL;AACI,aAAO,EAAE,GAAGgB,KAAL;AAAYQ,QAAAA,OAAO,EAAEL;AAArB,OAAP;;AAEJ,SAAKpB,WAAL;AACI,YAAM;AAAE0B,QAAAA,SAAF;AAAaC,QAAAA;AAAb,UAA4BP,OAAlC;AACA,YAAML,IAAI,GAAG,EAAE,GAAGE,KAAK,CAACF;AAAX,OAAb;AACAA,MAAAA,IAAI,CAACW,SAAD,CAAJ,GAAkBC,UAAlB;AACA,aAAO,EAAE,GAAGV,KAAL;AAAYF,QAAAA,IAAI,EAAE,EAAE,GAAGA;AAAL;AAAlB,OAAP;;AAEJ,SAAKb,eAAL;AACI,aAAO,EAAE,GAAGe,KAAL;AAAYJ,QAAAA,SAAS,EAAE,KAAvB;AAA8BE,QAAAA,IAAI,EAAE,EAAE,GAAGN;AAAL;AAApC,OAAP;;AAEJ;AACI,aAAO,EAAE,GAAGQ;AAAL,OAAP;AAnCR;AAqCH;;AAED,eAAeD,YAAf","sourcesContent":["import { INPUT_GENRE, SEARCH_GENRE, SUBMIT_COMPLETE, UPDATE_GENRE, RESET_FORM, EDIT_BUTTON, DELETE_GENRE, FETCH_COMPLETE, SET_LOADING } from \"./Actions\";\n\nconst defaultFormValues = {\n    id: '',\n    name: ''\n};\n\nconst initialState = {\n    isLoading: true,\n    genres: [],\n    form: { ...defaultFormValues }\n}\nfunction genreReducer(state = initialState, action) {\n    const { type, payload } = action;\n\n    switch (type) {\n\n        case DELETE_GENRE:\n            return { ...state, genres: state.genres.filter((genre) => (genre.id !== payload)) };\n\n        case UPDATE_GENRE:\n            return { ...state, genres: state.genres.map((genre) => genre.id === payload.id ? payload : genre) };\n\n        case EDIT_BUTTON:\n            const genre = state.genres.find((genre) => genre.id === payload);\n            return { ...state, form: { ...genre } };\n\n\n        case RESET_FORM:\n            return { ...state, form: { ...defaultFormValues } }\n\n        case SET_LOADING:\n            return { ...state, isLoading: true }\n\n        case FETCH_COMPLETE:\n            return { ...state, isLoading: false, genres: [...payload] }\n\n        case SEARCH_GENRE:\n            return { ...state, keyword: payload };\n\n        case INPUT_GENRE:\n            const { inputName, inputValue } = payload;\n            const form = { ...state.form };\n            form[inputName] = inputValue;\n            return { ...state, form: { ...form } };\n\n        case SUBMIT_COMPLETE:\n            return { ...state, isLoading: false, form: { ...defaultFormValues } };\n\n        default:\n            return { ...state }\n    }\n}\n\nexport default genreReducer;"]},"metadata":{},"sourceType":"module"}