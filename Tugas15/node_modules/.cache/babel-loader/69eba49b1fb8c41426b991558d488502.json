{"ast":null,"code":"var _jsxFileName = \"/home/vergi/Documents/materi pascal/Week_11/Latihan fetching/empty_project2/src/component/albums/component/ListAlbum.js\";\nimport React, { Component } from 'react';\nimport * as Service from '../services/AlbumService';\nimport { EDIT_ALBUM } from '../reducers/Actions';\nimport { FETCH_COMPLETE, SET_LOADING } from '../reducers/Actions';\nimport Modal from \"reactstrap/lib/Modal\";\nimport ModalHeader from \"reactstrap/lib/ModalHeader\";\nimport ModalBody from \"reactstrap/lib/ModalBody\";\nimport ModalFooter from \"reactstrap/lib/ModalFooter\";\nimport { Table, Card, CardHeader, Spinner, Button } from \"reactstrap\";\n\nclass ListArtist extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleEdit = albumId => {\n      const {\n        handleEditButton,\n        history\n      } = this.props;\n      handleEditButton(albumId);\n      history.replace(\"/albums/form\");\n    };\n\n    this.handleDelete = () => {\n      // const { setLoading } = this.props;\n      const {\n        target\n      } = this.state;\n      this.setState({\n        dialogOpen: false\n      });\n      Service.deleteAlbum(target).then(isSuccess => {\n        if (isSuccess) this.loadData();\n      });\n    };\n\n    this.confirmDelete = target => {\n      this.setState({\n        target,\n        dialogOpen: true,\n        dialogText: `Are you sure you want to delete ${target.name}?`\n      });\n    };\n\n    this.showImage = (target, album) => {\n      this.setState({\n        target,\n        imgOpen: true,\n        dialogText: `Picture ${target.name}`\n      });\n    };\n\n    this.state = {\n      target: undefined,\n      dialogOpen: false,\n      dialogText: '',\n      imgOpen: false,\n      img: ''\n    };\n  }\n\n  loadData() {\n    const {\n      fetchData,\n      fetchComplete\n    } = this.props;\n    fetchData();\n    Service.getAlbums().then(albums => {\n      fetchComplete(albums);\n    });\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  generatedTableRows() {\n    const {\n      content,\n      isLoading\n    } = this.props;\n    const {\n      imgOpen\n    } = this.state;\n    let rows = /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"2\",\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Spinner, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 53\n      }\n    })));\n\n    if (!isLoading) {\n      rows = content.map((album, index) => {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }\n        }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }\n        }, album.title), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }\n        }, album.description), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }\n        }, album.releaseYear), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }\n        }, album.discount), /*#__PURE__*/React.createElement(Modal, {\n          isOpen: imgOpen,\n          size: \"lg\",\n          centered: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(ModalHeader, {\n          toggle: imgOpen,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }\n        }, \"Album Photo\"), /*#__PURE__*/React.createElement(ModalBody, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"center\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 40\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: `http://localhost:9090/albums/img/${album.id}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 48\n          }\n        }), \" \"), \" \"), /*#__PURE__*/React.createElement(ModalFooter, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          type: \"button\",\n          color: \"secondary\",\n          onClick: () => this.setState({\n            target: undefined,\n            dialogText: '',\n            imgOpen: false\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 33\n          }\n        }, \"Close\"))), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }\n        }, \" \", /*#__PURE__*/React.createElement(Button, {\n          type: \"button\",\n          color: \"danger\",\n          onClick: () => this.showImage(album.id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 30\n          }\n        }, \" Image\")), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          type: \"button\",\n          color: \"info\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(FaIcon, {\n          icon: \"fas info-circle\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 64\n          }\n        }))), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          type: \"button\",\n          color: \"warning\",\n          onClick: () => this.handleEdit(album.id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }\n        }, \"Edit\")), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          type: \"button\",\n          color: \"danger\",\n          onClick: () => this.confirmDelete(album),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }\n        }, \" Delete\")));\n      });\n    }\n\n    return rows;\n  }\n\n  render() {\n    const {\n      dialogOpen,\n      dialogText,\n      imgOpen\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"shadow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(CardHeader, {\n      tag: \"strong\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }, \"Artists\", /*#__PURE__*/React.createElement(Link, {\n      to: \"/artist/form\",\n      className: \"float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FaIcon, {\n      icon: \"fas plus-square\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 65\n      }\n    }), \" New Artist \"))), /*#__PURE__*/React.createElement(Table, {\n      responsive: true,\n      striped: true,\n      hover: true,\n      className: \"m-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      width: \"5%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 33\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 33\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 33\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 33\n      }\n    }, \"Release Year\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 33\n      }\n    }, \"Discount\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 33\n      }\n    }, \"Photo\"), /*#__PURE__*/React.createElement(\"th\", {\n      colSpan: \"3\",\n      width: \"20%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 33\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, this.generatedTableRows())), /*#__PURE__*/React.createElement(Modal, {\n      isOpen: dialogOpen,\n      size: \"sm\",\n      centered: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(ModalHeader, {\n      toggle: dialogOpen,\n      tag: \"strong\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }\n    }, \"Delete Confirmation\"), /*#__PURE__*/React.createElement(ModalBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, dialogText), /*#__PURE__*/React.createElement(ModalFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"danger\",\n      onClick: this.handleDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 29\n      }\n    }, \"Confirm\"), /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      color: \"secondary\",\n      onClick: () => this.setState({\n        target: undefined,\n        dialogText: '',\n        dialogOpen: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 29\n      }\n    }, \"Cancel\")))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return { ...state\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    fetchData: () => dispatch({\n      type: SET_LOADING\n    }),\n    fetchComplete: payload => dispatch({\n      type: FETCH_COMPLETE,\n      payload\n    }),\n    handleEditButton: payload => dispatch({\n      type: EDIT_ALBUM,\n      payload\n    })\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ListArtist));","map":{"version":3,"sources":["/home/vergi/Documents/materi pascal/Week_11/Latihan fetching/empty_project2/src/component/albums/component/ListAlbum.js"],"names":["React","Component","Service","EDIT_ALBUM","FETCH_COMPLETE","SET_LOADING","Modal","ModalHeader","ModalBody","ModalFooter","Table","Card","CardHeader","Spinner","Button","ListArtist","constructor","props","handleEdit","albumId","handleEditButton","history","replace","handleDelete","target","state","setState","dialogOpen","deleteAlbum","then","isSuccess","loadData","confirmDelete","dialogText","name","showImage","album","imgOpen","undefined","img","fetchData","fetchComplete","getAlbums","albums","componentDidMount","generatedTableRows","content","isLoading","rows","map","index","title","description","releaseYear","discount","id","render","mapStateToProps","mapDispatchToProps","dispatch","type","payload","connect","withRouter"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as Service from '../services/AlbumService'\nimport { EDIT_ALBUM } from '../reducers/Actions';\nimport { FETCH_COMPLETE, SET_LOADING } from '../reducers/Actions';\nimport Modal from \"reactstrap/lib/Modal\";\nimport ModalHeader from \"reactstrap/lib/ModalHeader\";\nimport ModalBody from \"reactstrap/lib/ModalBody\";\nimport ModalFooter from \"reactstrap/lib/ModalFooter\";\nimport { Table, Card, CardHeader, Spinner, Button } from \"reactstrap\";\n\n\n\nclass ListArtist extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            target: undefined,\n            dialogOpen: false,\n            dialogText: '',\n            imgOpen: false,\n            img: ''\n        }\n    }\n    loadData() {\n        const { fetchData, fetchComplete } = this.props;\n        fetchData();\n        Service.getAlbums()\n            .then((albums) => {\n                fetchComplete(albums);\n            });\n    }\n    handleEdit = (albumId) => {\n        const { handleEditButton, history } = this.props;\n        handleEditButton(albumId);\n        history.replace(\"/albums/form\")\n    }\n    handleDelete = () => {\n        // const { setLoading } = this.props;\n        const { target } = this.state;\n        this.setState({ dialogOpen: false });\n        Service.deleteAlbum(target)\n            .then((isSuccess) => {\n                if (isSuccess) this.loadData();\n            });\n    }\n    confirmDelete = (target) => {\n        this.setState({\n            target, dialogOpen: true,\n            dialogText: `Are you sure you want to delete ${target.name}?`\n        });\n    }\n    showImage = (target, album) => {\n        this.setState({\n            target, imgOpen: true,\n            dialogText: `Picture ${target.name}`\n        });\n    }\n    componentDidMount() {\n        this.loadData();\n    }\n    generatedTableRows() {\n        const { content, isLoading } = this.props;\n        const { imgOpen } = this.state;\n        let rows = <tr>\n            <td colSpan=\"2\" className=\"text-center\"><Spinner color=\"primary\" /></td>\n        </tr>\n        if (!isLoading) {\n            rows = content.map((album, index) => {\n                return (\n                    <tr key={index}>\n                        <td>{index + 1}</td>\n                        <td>{album.title}</td>\n                        <td>{album.description}</td>\n                        <td>{album.releaseYear}</td>\n                        <td>{album.discount}</td>\n                        <Modal isOpen={imgOpen} size=\"lg\" centered={true}>\n                            <ModalHeader toggle={imgOpen}>Album Photo</ModalHeader>\n                            <ModalBody><center><img src={`http://localhost:9090/albums/img/${album.id}`} /> </center> </ModalBody>\n                            <ModalFooter>\n                                <Button type=\"button\" color=\"secondary\" onClick={() => this.setState({ target: undefined, dialogText: '', imgOpen: false })}>Close</Button>\n                            </ModalFooter>\n                        </Modal>\n                        {/*<td><img src={`http://localhost:9090/artist/photos/${artist.id}`}alt=\"Example\" width=\"193\" height=\"130\"/> </td>*/}\n                        <td> <Button type=\"button\" color=\"danger\" onClick={() => this.showImage(album.id)}> Image</Button></td>\n                        <td>\n                            <Button type=\"button\" color=\"info\"><FaIcon icon='fas info-circle' /></Button>\n                        </td>\n                        <td>\n                            <Button type=\"button\" color=\"warning\" onClick={() => this.handleEdit(album.id)}>Edit</Button>\n                        </td>\n                        <td>\n                            <Button type=\"button\" color=\"danger\" onClick={() => this.confirmDelete(album)}> Delete</Button>\n                        </td>\n                    </tr>\n                )\n            })\n        }\n        return rows;\n    }\n    render() {\n        const { dialogOpen, dialogText, imgOpen } = this.state;\n        return (\n            <Fragment>\n                <Card className=\"shadow\">\n                    <CardHeader tag='strong'>Artists\n                        <Link to='/artist/form' className=\"float-right\">\n                            <Button type=\"button\" color=\"light\"><FaIcon icon='fas plus-square' /> New Artist </Button>\n                        </Link>\n                    </CardHeader>\n                    <Table responsive striped hover className='m-0'>\n                        <thead>\n                            <tr>\n                                <th width=\"5%\">#</th>\n                                <th>Title</th>\n                                <th>Description</th>\n                                <th>Release Year</th>\n                                <th>Discount</th>\n                                <th>Photo</th>\n                                <th colSpan=\"3\" width=\"20%\">Action</th>\n                            </tr>\n                        </thead>\n                        <tbody>{this.generatedTableRows()}</tbody>\n                    </Table>\n                    <Modal isOpen={dialogOpen} size=\"sm\" centered={true}>\n                        <ModalHeader toggle={dialogOpen} tag='strong'>Delete Confirmation</ModalHeader>\n                        <ModalBody>{dialogText}</ModalBody>\n                        <ModalFooter>\n                            <Button type=\"button\" color=\"danger\" onClick={this.handleDelete}>Confirm</Button>\n                            <Button type=\"button\" color=\"secondary\" onClick={() => this.setState({ target: undefined, dialogText: '', dialogOpen: false })}>Cancel</Button>\n                        </ModalFooter>\n                    </Modal>\n                </Card>\n            </Fragment>\n        )\n    }\n}\nfunction mapStateToProps(state) {\n    return { ...state }\n}\nfunction mapDispatchToProps(dispatch) {\n    return {\n        fetchData: () => dispatch({ type: SET_LOADING }),\n        fetchComplete: (payload) => dispatch({ type: FETCH_COMPLETE, payload }),\n        handleEditButton: (payload) => dispatch({ type: EDIT_ALBUM, payload }),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ListArtist));"]},"metadata":{},"sourceType":"module"}